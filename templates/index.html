<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
        <link rel = "stylesheet" href = "{{ url_for("static", filename = "styles.css") }}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <title>Ngram Models</title>
    </head>
    <body>
        <h1>N-gram</h1>
        <div class = 'generation' id = 'generation'>
            <form method="POST" action="/submit_corpus">
                <h3>Train</h3>

                <label for = "corpus_input">
                    Corpus:<br>
                    <textarea id = "corpus_input" name = "corpus" placeholder = "Type or paste a very long text (used to train the N-gram)"></textarea><br>
                </label>

                <label for = "length_input">
                    N-gram length:<br>
                    <input type = "number" id = "length_input" name = "ngram_length" value = "2" placeholder = "Length for your ngram is ..." step = '1' min = '1'>
                </label>
                
                <details>
                    <summary> Additional settings </summary>
                    <label for = "punctuation_input">Remove:</label>
                    <input type = "text" id = "punctuation_input" name = "punctuation_remove" value = "!&quot;#$%&amp;'()*+,-./:;<=>?@[\]^_`{|}~" placeholder = "Characters to be removed are ..."><br>
                </details>
                
                <label for = "download">
                    <button><i class="fa fa-download"></i> Download</button>
                    <input id = "download" type= "submit" hidden/>
                </label>

            </form>
            
            <div class = "divider"></div>
            
            <form class = "intercept" method = "POST" action = "/upload_json" enctype = "multipart/form-data">
                <h3>Upload</h3>

                <label for = "json_upload">Upload your N-gram:
                    <div class = "upload_content">
                        <svg xmlns = "http://www.w3.org/2000/svg" width = "50" height = "50" viewBox = "0 0 20 20" fill = "currentColor" aria-hidden = "true"><path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"></path></svg>
                        <p>Browse a file</p>
                        <input type = "file" id = "json_upload" name = "json_file" accept = ".json"><br>
                    </div>
                </label>
                
                <label for = "upload">
                    <button> <i class="fa fa-upload"></i> Upload</button>
                    <input id = "upload" type="submit" hidden/>
                </label>

            </form>
            
            <div class = "divider"></div>
            
            <form class = "intercept" method = "POST" action = "/predict_text">
                <h3>Generate</h3>

                <label for = "predict">
                    Input:<br>
                    <textarea id = "predict" name = "user_input" placeholder = "Enter words in your corpus..."></textarea><br>
                </label>
                    
                <label for = "check_choose">
                    Choose?
                    <input type = "checkbox" id = "check_choose" name = "choose" checked>
                </label><br>

                <label for = "predict_many">
                    predict many?
                    <input type = "checkbox" id = "predict_many" name = "predict_many" value = "no">
                </label><br>

                <label for = "word_count" id = "word_count_label" hidden/>
                    Word count:<br>
                    <input type = "number" id = "word_count" name = "word_count" value = "3" placeholder = "How many to predict" step = '1' min = '1'><br>
                </label>
            
                <label for = "generate">
                    <button>Generate</button>
                </label>

                <input id = "generate" type="submit" hidden/>
            </form>

        </div>
        <h3>Output:</h3>
        <div id = "output"></div>
        <div class = 'message-area' hidden/></div>
        
    <script src = "{{ url_for('static', filename='script.js') }}"></script>
    </body>
</html>